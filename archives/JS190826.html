<!-- build time:Tue Dec 24 2019 16:52:24 GMT+0800 (GMT+08:00) --><!DOCTYPE HTML><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta http-equiv="Cache-Control" content="no-transform"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="apple-mobile-web-app-capable" content="Onionsè¯´å‰ç«¯ - ä»æœªå¦‚æ­¤ç®€å•æœ‰è¶£"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="browsermode" content="application"><meta name="screen-orientation" content="portrait"><link rel="dns-prefetch" href="http://algate.github.io"><meta name="keywords" content="JavaScript,WebApi"><meta name="description" content="1.closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰closestè·ŸquerySelectorç›¸åï¼Œè¯¥å…ƒç´ å¯ä»¥å‘ä¸ŠæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŸ¥è¯¢åˆ°çˆ¶å…ƒç´ ï¼šdocument.querySelector(â€œliâ€).close..."><meta name="robots" content="all"><meta name="google" content="all"><meta name="googlebot" content="all"><meta name="verify" content="all"><title>JavaScriptå¥½ç”¨çš„Web-Api | Onionsè¯´å‰ç«¯ - ä»æœªå¦‚æ­¤ç®€å•æœ‰è¶£</title><link rel="alternate" href="/atom.xml" title="Onionsè¯´å‰ç«¯ - ä»æœªå¦‚æ­¤ç®€å•æœ‰è¶£" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7"><link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0"><link rel="stylesheet" href="/css/style.css?rev=@@hash"><div><script type="text/javascript">var cnzz_protocol="https:"==document.location.protocol?"https://":"http://";document.write(unescape("%3Cspan id='cnzz_stat_icon_1276282118'%3E%3C/span%3E%3Cscript src='"+cnzz_protocol+"s96.cnzz.com/z_stat.php%3Fid%3D1276282118%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"))</script></div><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?617bf75bfd954382202927d87bf48f13";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head></html><!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]--><!--[if lte IE 9]>
<div style="ie">ä½ ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œä¸ºäº†ä½ æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·æ›´æ–°æµè§ˆå™¨çš„ç‰ˆæœ¬æˆ–è€…ä½¿ç”¨å…¶ä»–ç°ä»£æµè§ˆå™¨ï¼Œæ¯”å¦‚Chromeã€Firefoxã€Safariç­‰ã€‚</div>
<![endif]--><body><header class="main-header"><div class="main-header-box"><div class="canvas-box"><canvas id="canvas"></canvas></div><a class="header-avatar" href="/" title="onions"><img src="/img/avatar.jpg" alt="logoå¤´åƒ" class="img-responsive center-block"></a><div class="branding"><h2>ä¸è¦è·Ÿæˆ‘è°ˆç†æƒ³ï¼Œæˆ‘çš„ç†æƒ³æ˜¯ä¸å·¥ä½œ</h2></div></div></header><nav class="main-navigation"><div class="container"><div class="row"><div class="col-sm-12"><div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav"><span class="sr-only"></span> <i class="fa fa-bars"></i> </span><a class="navbar-brand" href="http://algate.github.io">Onionsè¯´å‰ç«¯ - ä»æœªå¦‚æ­¤ç®€å•æœ‰è¶£</a></div><div class="collapse navbar-collapse" id="main-menu"><ul class="menu"><li role="presentation" class="text-center"><a href="/"><i class="fa fa-home"></i>é¦–é¡µ</a></li><li role="presentation" class="text-center"><a href="/categories/å‰ç«¯/"><i class="fa fa-chrome"></i>å‰ç«¯</a></li><li role="presentation" class="text-center"><a href="/categories/å·¥å…·/"><i class="fa fa-wrench"></i>å·¥å…·</a></li><li role="presentation" class="text-center"><a href="/archives/"><i class="fa fa-clock-o"></i>æ—¶é—´è½´</a></li><li role="presentation" class="text-center"><a href="/categories/è¦é—»/"><i class="fa fa-google-wallet"></i>è¦é—»</a></li><li role="presentation" class="text-center"><a href="/categories/æ—¥è®°/"><i class="fa fa-book"></i>æ—¥è®°</a></li><li role="presentation" class="text-center"><a href="/404.html"><i class="fa fa-bug"></i>404</a></li></ul></div></div></div></div></nav><section class="content-wrap"><div class="container"><div class="row"><main class="col-md-8 main-content m-post"><p id="process"></p><article class="post"><div class="post-head"><h1 id="JavaScriptå¥½ç”¨çš„Web-Api">JavaScriptå¥½ç”¨çš„Web-Api</h1><div class="post-meta"><span class="categories-meta fa-wrap"><i class="fa fa-folder-open-o"></i> <a class="category-link" href="/categories/å‰ç«¯/">å‰ç«¯</a> </span><span class="fa-wrap"><i class="fa fa-tags"></i> <span class="tags-meta"><a class="tag-link" href="/tags/JavaScript/">JavaScript</a> <a class="tag-link" href="/tags/WebApi/">WebApi</a> </span></span><span class="fa-wrap"><i class="fa fa-clock-o"></i> <span class="date-meta">2019/08/26</span></span></div></div><div class="post-body post-content"><h3 id="1-closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰"><a href="#1-closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰" class="headerlink" title="1.closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰"></a>1.closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰</h3><ul><li>closest<br>è·ŸquerySelectorç›¸åï¼Œè¯¥å…ƒç´ å¯ä»¥å‘ä¸ŠæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŸ¥è¯¢åˆ°çˆ¶å…ƒç´ ï¼š<br>document.querySelector(â€œliâ€).closest(â€œ#navâ€);</li></ul><h3 id="2-datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰"><a href="#2-datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰" class="headerlink" title="2.datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰"></a>2.datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰</h3><ul><li>dataset<br>å°±è·ŸåŸç”Ÿå¾®ä¿¡å°ç¨‹åºä¸€æ ·ï¼Œèƒ½è·å–æ ‡ç­¾ä¸Šä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼š</li></ul><p></p><p data-name="èœ˜è››ä¾ " data-age="16"></p><br>document.querySelector(â€œpâ€).dataset; // {name: â€œèœ˜è››ä¾ â€, age: â€œ16â€}<br>æ³¨æ„ï¼šè™½ç„¶å¯ä»¥ç”¨getAttributeæ–¹æ³•è·å–ä»»ä½•å±æ€§å€¼ï¼Œä½†æ˜¯æ€§è´¨å´ä¸ä¸€æ ·ï¼Œè¿™æ˜¯å¼€å‘è§„èŒƒé—®é¢˜ï¼Œå‡¡æ˜¯è‡ªå®šä¹‰å±æ€§éƒ½è¦åŠ ä¸Šdata-å‰ç¼€å“¦<p></p><h3 id="3-URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰"><a href="#3-URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰" class="headerlink" title="3.URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰"></a>3.URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰</h3><ul><li>URLSearchParams<br>å‡è®¾æµè§ˆå™¨çš„urlå‚æ•°æ˜¯ â€œ?name=èœ˜è››ä¾ &amp;age=16â€ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> URLSearchParams(location.search).get(<span class="string">"name"</span>); <span class="comment">// èœ˜è››ä¾ </span></span><br></pre></td></tr></table></figure><h3 id="4-hiddenï¼ˆéšè—å…ƒç´ ï¼‰"><a href="#4-hiddenï¼ˆéšè—å…ƒç´ ï¼‰" class="headerlink" title="4.hiddenï¼ˆéšè—å…ƒç´ ï¼‰"></a>4.hiddenï¼ˆéšè—å…ƒç´ ï¼‰</h3><p>è¿™æ˜¯ä¸€ä¸ªhtmlå±æ€§ï¼Œè§„å®šå…ƒç´ æ˜¯å¦éšè—ï¼Œè¡¨ç°è·Ÿcssçš„display: noneä¸€è‡´ï¼š<br><code>&lt;div hidden&gt;æˆ‘è¢«éšè—äº†&lt;/div&gt;</code><br><code>document.querySelector(&quot;div&quot;).hidden = true / false;</code></p><h3 id="5-classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰"><a href="#5-classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰" class="headerlink" title="5.classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰"></a>5.classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰</h3><ul><li>classList<br>è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡Œå°è£…äº†è®¸å¤šæ“ä½œå…ƒç´ ç±»åçš„æ–¹æ³•ï¼š<br><code>&lt;p class=&quot;title&quot;&gt;&lt;/p&gt;</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> elem = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span><br><span class="line"><span class="comment">// å¢åŠ ç±»å</span></span><br><span class="line">elem.classList.add(<span class="string">"title-new"</span>); <span class="comment">// "title title-new"</span></span><br><span class="line"><span class="comment">// åˆ é™¤ç±»å</span></span><br><span class="line">elem.classList.remove(<span class="string">"title"</span>); <span class="comment">// "title-new"</span></span><br><span class="line"><span class="comment">// åˆ‡æ¢ç±»åï¼ˆæœ‰åˆ™åˆ ã€æ— åˆ™å¢ï¼Œå¸¸ç”¨äºä¸€äº›åˆ‡æ¢æ“ä½œï¼Œå¦‚æ˜¾ç¤º/éšè—ï¼‰</span></span><br><span class="line">elem.classList.toggle(<span class="string">"title"</span>); <span class="comment">// "title-new title"</span></span><br><span class="line"><span class="comment">// æ›¿æ¢ç±»å</span></span><br><span class="line">elem.classList.replace(<span class="string">"title"</span>, <span class="string">"title-old"</span>); <span class="comment">// "title-new title-old"</span></span><br><span class="line"><span class="comment">// æ˜¯å¦åŒ…å«æŒ‡å®šç±»å</span></span><br><span class="line">elem.classList.contains(<span class="string">"title"</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="6-containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰"><a href="#6-containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰" class="headerlink" title="6.containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰"></a>6.containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰</h3><ul><li>contains<br>å¯ä»¥åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦åŒ…å«äº†æŒ‡å®šçš„å­å…ƒç´ ï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">document.querySelector("div").contains(document.querySelector("p")); // true</span><br></pre></td></tr></table></figure></li></ul><h3 id="7-online-stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰"><a href="#7-online-stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰" class="headerlink" title="7.online stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰"></a>7.online stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰</h3><ul><li>online state<br>ç›‘å¬å½“å‰çš„ç½‘ç»œçŠ¶æ€å˜åŠ¨ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"online"</span>, xxx);</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"offline"</span>, () =&gt; &#123;</span><br><span class="line">  alert(<span class="string">"ä½ æ–­ç½‘å•¦ï¼"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·å·²æ–­ç½‘ï¼Œç›´æ¥ä¸€ä¸ªå¼¹æ¡†æŠŠç”¨æˆ·å“æ‡µ</p><h3 id="8-battery-stateï¼ˆç”µæ± çŠ¶æ€ï¼‰"><a href="#8-battery-stateï¼ˆç”µæ± çŠ¶æ€ï¼‰" class="headerlink" title="8.battery stateï¼ˆç”µæ± çŠ¶æ€ï¼‰"></a>8.battery stateï¼ˆç”µæ± çŠ¶æ€ï¼‰</h3><ul><li>battery state<br>è·å–è®¾å¤‡çš„ç”µæ± çŠ¶æ€ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">navigator.getBattery().then(<span class="function"><span class="params">battery</span> =&gt;</span> <span class="built_in">console</span>.log(battery));</span><br><span class="line"><span class="comment">// è¿”å›</span></span><br><span class="line">&#123;</span><br><span class="line">  charging, <span class="comment">// æ˜¯å¦åœ¨å……ç”µ</span></span><br><span class="line">  chargingTime, <span class="comment">// å……æ»¡ç”µæ‰€éœ€æ—¶é—´</span></span><br><span class="line">  dischargingTime, <span class="comment">// å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´</span></span><br><span class="line">  level, å‰©ä½™ç”µé‡</span><br><span class="line"></span><br><span class="line">  onchargingchange, <span class="comment">// ç›‘å¬å……ç”µçŠ¶æ€å˜åŒ–</span></span><br><span class="line">  onchargingtimechange, <span class="comment">// ç›‘å¬å……æ»¡ç”µæ‰€éœ€æ—¶é—´å˜åŒ–</span></span><br><span class="line">  ondischargingtimechange, <span class="comment">// ç›‘å¬å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´å˜åŒ–</span></span><br><span class="line">  onlevelchange <span class="comment">// ç›‘å¬ç”µé‡å˜åŒ–</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·ç”µé‡å·²å……æ»¡ï¼Œæˆ–è€…ä¸ºäº†è®©ç”¨æˆ·æœ‰å®‰å…¨æ„Ÿï¼Œç”µé‡ä½äº99%çš„æ—¶å€™æ¥ä¸ªå¼¹æ¡†æç¤ºâ€è¯¥å……ç”µå•¦â€</p><h3 id="9-vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰"><a href="#9-vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰" class="headerlink" title="9.vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰"></a>9.vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰</h3><p>å˜»å˜»ï¼Œä½¿è®¾å¤‡è¿›è¡Œéœ‡åŠ¨ï¼š<br>// éœ‡åŠ¨ä¸€æ¬¡<br>navigator.vibrate(100);<br>// è¿ç»­éœ‡åŠ¨ï¼Œéœ‡åŠ¨200msã€æš‚åœ100msã€éœ‡åŠ¨300ms<br>navigator.vibrate([200, 100, 300]);<br>æ•ˆæœå¦‚ä¸‹ï¼šä¸å¥½æ„æ€ä½ å¾—ç”¨ä½ è‡ªå·±çš„æ‰‹æ¡ä½æ‰‹æœºæ‰èƒ½æ„Ÿå—å¾—åˆ°;<br>ä½¿ç”¨åœºæ™¯ï¼šé€šè¿‡æŒ¯åŠ¨æ¥æä¾›æ„Ÿå®˜åé¦ˆï¼Œæ¯”å¦‚å¤ªä¹…æ²¡æœ‰è§¦æ‘¸å±å¹•çš„æ—¶å€™è¿ç»­éœ‡åŠ¨æé†’ç”¨æˆ·</p><h3 id="10-page-visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰"><a href="#10-page-visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰" class="headerlink" title="10.page visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰"></a>10.page visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰</h3><p>é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªAPIæ˜¯ç”¨æ¥ç›‘å¬é¡µé¢å¯è§æ€§å˜åŒ–çš„ï¼Œåœ¨PCç«¯æ ‡ç­¾æ åˆ‡æ¢ã€æœ€å°åŒ–ä¼šè§¦å‘ã€åœ¨ç§»åŠ¨ç«¯ç¨‹åºåˆ‡åˆ°åå°ä¼šè§¦å‘ï¼Œç®€å•è¯´å°±æ˜¯é¡µé¢æ¶ˆå¤±äº†ğŸ¤¦â€â™‚ï¸<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`é¡µé¢å¯è§æ€§ï¼š<span class="subst">$&#123;<span class="built_in">document</span>.visibilityState&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p></p><p>PCç«¯æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="/images/js_webapi_visibility.gif" alt="image"><br>ç§»åŠ¨ç«¯æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="/images/js_webapi_visibility_app.gif" alt="image"><br>ä½¿ç”¨åœºæ™¯ï¼šå½“ç¨‹åºåˆ‡åˆ°åå°çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰æœ‰è§†é¢‘æ’­æ”¾æˆ–è€…ä¸€äº›åŠ¨ç”»æ‰§è¡Œï¼Œå¯ä»¥å…ˆæš‚åœ</p><h3 id="11-deviceOrientationï¼ˆé™€èºä»ªï¼‰"><a href="#11-deviceOrientationï¼ˆé™€èºä»ªï¼‰" class="headerlink" title="11.deviceOrientationï¼ˆé™€èºä»ªï¼‰"></a>11.deviceOrientationï¼ˆé™€èºä»ªï¼‰</h3><ul><li>deviceOrientation<br>é™€èºä»ªï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„æ–¹å‘ï¼Œåˆåé‡åŠ›æ„Ÿåº”ï¼Œè¯¥APIåœ¨IOSè®¾å¤‡ä¸Šå¤±æ•ˆçš„è§£å†³åŠæ³•ï¼Œå°†åŸŸååè®®æ”¹æˆhttpsï¼›<br><img src="/images/js_webapi_deviceOrientation.jpg" alt="image"><br>ä»å·¦åˆ°å³åˆ†åˆ«ä¸ºalphaã€betaã€gamma:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"deviceorientation"</span>, event =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123;</span><br><span class="line">    alpha,</span><br><span class="line">    beta,</span><br><span class="line">    gamma</span><br><span class="line">  &#125; = event;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`alphaï¼š<span class="subst">$&#123;alpha&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`betaï¼š<span class="subst">$&#123;beta&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`gammaï¼š<span class="subst">$&#123;gamma&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢ä¸Šçš„æŸäº›å…ƒç´ éœ€è¦æ ¹æ®æ‰‹æœºæ‘†åŠ¨è¿›è¡Œç§»åŠ¨ï¼Œè¾¾åˆ°è§†å·®çš„æ•ˆæœï¼Œæ¯”å¦‚ç‹è€…è£è€€è¿›å…¥æ¸¸æˆçš„é‚£ä¸ªç•Œé¢ï¼Œæ‰‹æœºè½¬åŠ¨èƒŒæ™¯å›¾ä¼šè·Ÿç€åŠ¨</p><h3 id="12-toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰"><a href="#12-toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰" class="headerlink" title="12.toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰"></a>12.toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰</h3><ul><li>toDataURL<br>è¿™ä¸ªcanvasçš„APIï¼Œä½œç”¨æ˜¯å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆä¸€ä¸ªbase64çš„å›¾ç‰‡åœ°å€ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">let</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"><span class="comment">//â€¦â€¦</span></span><br><span class="line"><span class="keyword">let</span> url = canvas.toDataURL(<span class="string">"image/png"</span>); <span class="comment">// å°†ç”»å¸ƒå†…å®¹è½¬æ¢æˆbase64åœ°å€</span></span><br></pre></td></tr></table></figure></li></ul><p>ä½¿ç”¨aæ ‡ç­¾è¿›è¡Œå›¾ç‰‡ä¸‹è½½æ—¶ï¼Œå›¾ç‰‡é“¾æ¥è·¨åŸŸï¼ˆå›¾ç‰‡æ˜¯æˆ‘çš„æ˜é‡‘å¤´åƒï¼‰ï¼Œæ— æ³•è¿›è¡Œä¸‹è½½è€Œæ˜¯è¿›è¡Œå›¾ç‰‡é¢„è§ˆï¼š<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"xxx"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"xxx"</span> <span class="attr">download</span>=<span class="string">"avatar"</span>&gt;</span>ä¸‹è½½å›¾ç‰‡<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>å°è£…ä»¥ä¸‹ä»£ç ä¾¿å¯è§£å†³âœ…<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> downloadImage = <span class="function">(<span class="params">url, name</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å®ä¾‹åŒ–ç”»å¸ƒ</span></span><br><span class="line">  <span class="keyword">let</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="keyword">let</span> context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ªå›¾ç‰‡å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> image = <span class="keyword">new</span> Image();</span><br><span class="line">  image.crossOrigin = <span class="string">"Anonymous"</span>;</span><br><span class="line">  image.src = url;</span><br><span class="line">  <span class="comment">// å½“å›¾ç‰‡åŠ è½½å®Œæ¯•</span></span><br><span class="line">  image.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å°†å›¾ç‰‡ç”»åœ¨ç”»å¸ƒä¸Š</span></span><br><span class="line">    canvas.height = image.height;</span><br><span class="line">    canvas.width = image.width;</span><br><span class="line">    context.drawImage(image, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">// å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆbase64åœ°å€</span></span><br><span class="line">    <span class="keyword">let</span> dataURL = canvas.toDataURL(<span class="string">"image/png"</span>);</span><br><span class="line">    <span class="comment">// åˆ›å»ºaæ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»è¿›è¡Œä¸‹è½½</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">    a.hidden = <span class="literal">true</span>;</span><br><span class="line">    a.href = dataURL;</span><br><span class="line">    a.download = name;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a);</span><br><span class="line">    a.click();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>æˆ–è€…å°†å½“å‰çš„DOMè½¬æ¢æˆå›¾ç‰‡è¿›è¡Œä¸‹è½½ï¼Œå¸¸ç”¨äºç”Ÿæˆæµ·æŠ¥ï¼Œæ¨èæ’ä»¶html2canvasï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»æœ;</p><h3 id="13-customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰"><a href="#13-customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰" class="headerlink" title="13.customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰"></a>13.customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰</h3><ul><li>customEvent<br>è‡ªå®šä¹‰äº‹ä»¶ï¼Œå°±è·Ÿvueé‡Œé¢çš„onè·Ÿemitä¸€æ ·ï¼›</li></ul><p>ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼š<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"follow"</span>, event =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event.detail); <span class="comment">// è¾“å‡º &#123;name: "å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"&#125;</span></span><br><span class="line">&#125;);</span><br><span class="line">æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š</span><br><span class="line"><span class="built_in">window</span>.dispatchEvent(<span class="keyword">new</span> CustomEvent(<span class="string">"follow"</span>, &#123;</span><br><span class="line">  detail: &#123;</span><br><span class="line">    name: <span class="string">"å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><p></p><h3 id="14-notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰"><a href="#14-notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰" class="headerlink" title="14.notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰"></a>14.notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰</h3><ul><li>notification<br>PCç«¯çš„æ¡Œé¢é€šçŸ¥ï¼Œå¦‚ç½‘é¡µç«¯çš„å¾®ä¿¡ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå³ä¸‹è§’ä¼šå‡ºç°ä¸€ä¸ªé€šçŸ¥ï¼ˆå°½ç®¡ä½ æŠŠæµè§ˆå™¨æœ€å°åŒ–ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªé€šçŸ¥æ—¶ç‹¬ç«‹äºæµè§ˆå™¨çš„ï¼Œæ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªåŸç”Ÿæ§ä»¶ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> notice = <span class="keyword">new</span> Notification(<span class="string">"å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"</span>, &#123;</span><br><span class="line">  body: <span class="string">"è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶"</span>,</span><br><span class="line">  icon: <span class="string">"æˆ‘çš„æ˜é‡‘å¤´åƒ"</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    url: <span class="string">"https://www.baidu.com"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ç‚¹å‡»å›è°ƒ</span></span><br><span class="line">notice.onclick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">window</span>.open(notice.data.url); <span class="comment">// å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="/images/js_webapi_notification.gif" alt="image"></p><p>æ³¨æ„ï¼šæƒ³è¦æˆåŠŸçš„è°ƒèµ·é€šçŸ¥ï¼Œé¦–å…ˆè¦ç”¨æˆ·çš„æˆæƒâœ…</p><p>Notification.requestPermission(prem =&gt; {<br>prem == â€œgrantedâ€ // åŒæ„<br>prem == â€œdeniedâ€ // æ‹’ç»<br>})<br>æ‰€ä»¥ï¼Œå†è°ƒç”¨ä¹‹å‰å…ˆå‘ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼š<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> permission = Notification.permission;</span><br><span class="line"><span class="keyword">if</span> (permission == <span class="string">"granted"</span>) &#123;</span><br><span class="line">  <span class="comment">// å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥</span></span><br><span class="line">  ...</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (permission == <span class="string">"denied"</span>) &#123;</span><br><span class="line">  <span class="comment">// ä¸åŒæ„ï¼Œå‘ä¸äº†å’¯</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º</span></span><br><span class="line">  Notification.requestPermission();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="15-fullScreenï¼ˆå…¨å±ï¼‰"><a href="#15-fullScreenï¼ˆå…¨å±ï¼‰" class="headerlink" title="15.fullScreenï¼ˆå…¨å±ï¼‰"></a>15.fullScreenï¼ˆå…¨å±ï¼‰</h3><ul><li>fullScreen<br>å…¨å±ä¸å’¯? ä¹‹å‰çš„ä¸€ä¸ªé¡¹ç›®åˆšå¥½ç”¨ä¸Šï¼Œä¸ä»…ä»…å¯ä»¥ä½œç”¨åœ¨documentElementä¸Šï¼Œè¿˜å¯ä»¥ä½œç”¨åœ¨æŒ‡å®šå…ƒç´ ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @method launchFullScreen å¼€å¯å…¨å±</span></span><br><span class="line"><span class="comment"> * @param &#123;Object&#125; elem = document.documentElement ä½œç”¨çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> launchFullScreen = <span class="function">(<span class="params">elem = <span class="built_in">document</span>.documentElement</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(elem.requestFullScreen) &#123;</span><br><span class="line">    elem.requestFullScreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(elem.mozRequestFullScreen) &#123;</span><br><span class="line">    elem.mozRequestFullScreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(elem.webkitRequestFullScreen) &#123;</span><br><span class="line">    elem.webkitRequestFullScreen();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ä½œç”¨åœ¨documentElementä¸Šæ²¡å•¥å¯ä»¥ä»‹ç»çš„å’¯ï¼Œå°±ç›¸å½“äºF11å¼€å¯å…¨å±ï¼š<br>é‚£ä¹ˆä½œç”¨åœ¨æŒ‡å®šå…ƒç´ ä¼šæ˜¯ä»€ä¹ˆæ•ˆæœå‘¢?<br><img src="/images/js_webapi_fullScreen.gif" alt="image"><br>å°±åƒæ•ˆæœå›¾ä¸€æ ·ï¼Œä¼šç›´æ¥å¼€å¯å…¨å±ï¼Œå¹¶ä¸”åªæ˜¾ç¤ºæŒ‡å®šçš„å…ƒç´ ï¼Œå…ƒç´ çš„å®½é«˜å¡«å……äº†æ•´ä¸ªå±å¹•âœ…<br>å…³é—­å…¨å±çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»Ÿä¸€ç”¨documentå¯¹è±¡ï¼š<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @method exitFullScreen å…³é—­å…¨å±</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> exitFullScreen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.exitFullscreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.exitFullscreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.mozCancelFullScreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.mozCancelFullScreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.webkitCancelFullScreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.webkitCancelFullScreen();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦è®©ç”¨æˆ·ä¸“æ³¨å»åšæŸä»¶äº‹ï¼Œæ¯”å¦‚ä»£ç ç¼–è¾‘åŒºçš„å…¨å±</p><h3 id="16-orientationï¼ˆå±å¹•æ–¹å‘ï¼‰"><a href="#16-orientationï¼ˆå±å¹•æ–¹å‘ï¼‰" class="headerlink" title="16.orientationï¼ˆå±å¹•æ–¹å‘ï¼‰"></a>16.orientationï¼ˆå±å¹•æ–¹å‘ï¼‰</h3><ul><li>orientation<br>å¯ä»¥ç›‘å¬ç”¨æˆ·æ‰‹æœºè®¾å¤‡çš„æ—‹è½¬æ–¹å‘å˜åŒ–ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"orientationchange"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerHTML += <span class="string">`&lt;p&gt;å±å¹•æ—‹è½¬åçš„è§’åº¦å€¼ï¼š<span class="subst">$&#123;<span class="built_in">window</span>.orientation&#125;</span>&lt;/p&gt;`</span>;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></li></ul><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="/images/js_webapi_orientation.gif" alt="image"><br>ä¹Ÿå¯ä»¥ä½¿ç”¨cssçš„åª’ä½“æŸ¥è¯¢ï¼š<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç«–å±æ—¶æ ·å¼ */</span></span><br><span class="line">@media all and (orientation: portrait) &#123;</span><br><span class="line">  body::after &#123;</span><br><span class="line">    content: <span class="string">"ç«–å±"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ¨ªå±æ—¶æ ·å¼ */</span></span><br><span class="line">@media all and (orientation: landscape) &#123;</span><br><span class="line">  body::after &#123;</span><br><span class="line">    content: <span class="string">"æ¨ªå±"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢éœ€è¦ç”¨æˆ·å¼€å¯æ¨ªå±æ¥è·å¾—æ›´å¥½çš„ä½“éªŒ</p><h3 id="17-getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰"><a href="#17-getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰" class="headerlink" title="17.getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰"></a>17.getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰</h3><ul><li>getBoundingClientRect<br>å¯ä»¥è·å–æŒ‡å®šå…ƒç´ åœ¨å½“å‰é¡µé¢çš„ç©ºé—´ä¿¡æ¯ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">elem.getBoundingClientRect();</span><br><span class="line"><span class="comment">// è¿”å›</span></span><br><span class="line">&#123;</span><br><span class="line">  x: <span class="number">604.875</span>,</span><br><span class="line">  y: <span class="number">1312</span>,</span><br><span class="line">  width: <span class="number">701.625</span>,</span><br><span class="line">  height: <span class="number">31</span>,</span><br><span class="line">  top: <span class="number">1312</span>,</span><br><span class="line">  right: <span class="number">1306.5</span>,</span><br><span class="line">  bottom: <span class="number">1343</span>,</span><br><span class="line">  left: <span class="number">604.875</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æ³¨æ„ï¼štopæ˜¯è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»ï¼Œyåˆ™æ˜¯è·ç¦»å¯è§†çª—å£ï¼ˆæµè§ˆå™¨å±å¹•ï¼‰çš„é¡¶éƒ¨è·ç¦»ï¼Œå¦‚æœæµè§ˆå™¨æ»šåŠ¨ï¼Œtopå€¼ä¸å˜ï¼Œyå€¼ä¼šå˜</p><p>Â· MDN <a href="https://developer.mozilla.org/zh-CN/docs/Web/API" target="_blank" rel="noopener">Web APIæ¥å£</a></p></div><div class="reward" ontouchstart><div class="reward-wrap">èµ<div class="reward-box"><span class="reward-type"><img class="alipay" src="/img/alipayimg.png"><b>æ”¯ä»˜å®æ‰“èµ</b> </span><span class="reward-type"><img class="wechat" src="/img/weipayimg.png"><b>å¾®ä¿¡æ‰“èµ</b></span></div></div><p class="reward-tip">èµèµæ˜¯ä¸è€æµæ°“çš„é¼“åŠ±</p></div><div class="post-footer"><div>è½¬è½½å£°æ˜ï¼šå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ,éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ Â© <a href target="_blank">Onions</a></div><div></div></div></article><div class="article-nav prev-next-wrap clearfix"><a href="/archives/JS190829.html" class="pre-post btn btn-default" title="å†…ç½‘ç©¿é€å·¥å…·"><i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">ä¸Šä¸€ç¯‡</span> <span class="hidden-xs">å†…ç½‘ç©¿é€å·¥å…·</span> </a><a href="/archives/JS190426.html" class="next-post btn btn-default" title="JavaScriptå·¥å…·ç›¸å…³ä½¿ç”¨"><span class="hidden-lg">ä¸‹ä¸€ç¯‡</span> <span class="hidden-xs">JavaScriptå·¥å…·ç›¸å…³ä½¿ç”¨</span><i class="fa fa-angle-right fa-fw"></i></a></div><div id="comments"><div id="vcomments" class="valine"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/assets/valine.min.js"></script><script>new Valine({av:AV,el:"#vcomments",appId:"XCBkrMT2cT5gHnAV3uKwy2Eo-gzGzoHsz",appKey:"bX6iJOMctdSEGOXysJloaoGN",placeholder:"ä¸è¦å’Œæˆ‘è°ˆç†æƒ³ï¼Œæˆ‘çš„ç†æƒ³æ˜¯ä¸ä¸Šç­ï¼",notify:!1,verify:!1,avatar:"onions",meta:"nick,mail".split(","),pageSize:"10",path:window.location.pathname,lang:"zh-CN".toLowerCase()})</script></div></main><aside id="article-toc" role="navigation" class="col-md-4"><div class="widget"><h3 class="title">æ–‡ç« ç›®å½•</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰"><span class="toc-text">1.closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰"><span class="toc-text">2.datasetï¼ˆè·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰"><span class="toc-text">3.URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-hiddenï¼ˆéšè—å…ƒç´ ï¼‰"><span class="toc-text">4.hiddenï¼ˆéšè—å…ƒç´ ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰"><span class="toc-text">5.classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰"><span class="toc-text">6.containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-online-stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰"><span class="toc-text">7.online stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-battery-stateï¼ˆç”µæ± çŠ¶æ€ï¼‰"><span class="toc-text">8.battery stateï¼ˆç”µæ± çŠ¶æ€ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰"><span class="toc-text">9.vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-page-visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰"><span class="toc-text">10.page visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-deviceOrientationï¼ˆé™€èºä»ªï¼‰"><span class="toc-text">11.deviceOrientationï¼ˆé™€èºä»ªï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰"><span class="toc-text">12.toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰"><span class="toc-text">13.customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰"><span class="toc-text">14.notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-fullScreenï¼ˆå…¨å±ï¼‰"><span class="toc-text">15.fullScreenï¼ˆå…¨å±ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-orientationï¼ˆå±å¹•æ–¹å‘ï¼‰"><span class="toc-text">16.orientationï¼ˆå±å¹•æ–¹å‘ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰"><span class="toc-text">17.getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰</span></a></li></ol></div></aside></div></div></section><footer class="main-footer"><div class="container"><div class="row"></div></div></footer><a id="back-to-top" class="icon-btn hide"><i class="fa fa-chevron-up"></i></a><div class="copyright"><div class="container"><div class="row"><div class="col-sm-12"><div class="busuanzi">è®¿é—®é‡: <strong id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i> </strong>&nbsp; | &nbsp; è®¿å®¢æ•°: <strong id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></strong></div></div><div class="col-sm-12"><span>ç‰ˆæƒæ‰€æœ‰ onionsæ´‹è‘±ä¿¡æ¯æŠ€æœ¯Copyright &copy; 2016-2019 </span>| <span>Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a> </span>| <span>Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a></span></div></div></div></div><script src="/assets/tagcanvas.min.js?rev=2.9"></script><script>var tagOption={textColour:"#444",outlineMethod:"block",outlineColour:"#FFDAB9",interval:30,textHeight:13,outlineRadius:3,freezeActive:!0,frontSelect:!0,initial:[.1,-.1],depth:.5,decel:.95,maxSpeed:.03,reverse:!0,fadeIn:500,wheelZoom:!0};TagCanvas.Start("tag-cloud-3d","",tagOption)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/assets/vector.js?rev=@@hash"></script><script src="/assets/reject.js?rev=@@hash"></script><script src="/js/app.js?rev=@@hash"></script></body><!-- rebuild by neat -->